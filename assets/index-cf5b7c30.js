import{d as z,r as I,aU as E,s as S,a as J,o as _,I as p,w as e,e as o,h as t,aV as M,i as d,c as f,K as h,L as v,t as g,f as r,l as W,J as X,aW as j,aX as q,_ as H}from"./index-154e0154.js";import{c as O}from"./index-f437c98b.js";import{c as Q,_ as Y}from"./conversion-6529078c.js";import{A as Z,_ as ee}from"./avatar_dark-41d15437.js";import{u as ne,_ as oe,a as te}from"./useDict-65e90586.js";import{_ as ae}from"./Tooltip-30b7340b.js";import{a as se,_ as _e}from"./FormItem-81df3fc6.js";import{_ as le}from"./Tag-068190c0.js";import{_ as ce}from"./Space-331bc907.js";import{_ as ue}from"./Spin-b2da5869.js";import{_ as pe}from"./Divider-fb6945fe.js";import"./use-compitable-a1465a98.js";const $=c=>(j("data-v-66267cf4"),c=c(),q(),c),re={class:"price"},ie=$(()=>r("span",null,"￥",-1)),me={class:"count"},de=$(()=>r("span",null,"起",-1)),fe=z({name:"TableProductIndex",__name:"index",setup(c){I(0);const{routerPush:P}=E(),{dict:k,dictLoading:B,formatDict:he}=ne(["brand","category"]),i=S(!1),a=I({brand:null,category:null,name:null}),b=S([]);J(()=>u());const F=s=>{P({path:`/table/product/detail/${s}`})},u=()=>{i.value=!0,O(a.value).then(s=>{b.value=s.data}).finally(()=>{i.value=!1})},x=(s,l)=>{a.value[s]=a.value[s]===l?void 0:l,u()};return(s,l)=>{const L=ae,V=W,K=ee,m=se,y=le,w=ce,T=_e,N=ue,A=pe,G=Y,C=X,R=oe,U=te;return _(),p(C,{class:"rounded-6px shadow-sm",bordered:!1},{default:e(()=>[o(N,{show:t(B)},{default:e(()=>[o(T,{"label-placement":"left",showFeedback:!1},{default:e(()=>[o(m,{class:"mb-6px",label:"商品名称"},{default:e(()=>[o(K,null,{default:e(()=>[o(L,{value:t(a).name,"onUpdate:value":l[0]||(l[0]=n=>t(a).name=n),style:{width:"20%"},placeholder:"请输入商品名称",clearable:"",onKeyup:M(u,["enter"])},null,8,["value"]),o(V,{type:"primary",onClick:u},{default:e(()=>[d(" 搜索 ")]),_:1})]),_:1})]),_:1}),o(m,{class:"mb-6px",label:"商品类目:"},{default:e(()=>[o(w,null,{default:e(()=>[(_(!0),f(h,null,v(t(k).category,n=>(_(),p(y,{key:n.value,checkable:"",checked:t(a).category===n.value,onClick:D=>x("category",n.value)},{default:e(()=>[d(g(n.name),1)]),_:2},1032,["checked","onClick"]))),128))]),_:1})]),_:1}),o(m,{label:"商品品牌:"},{default:e(()=>[o(w,null,{default:e(()=>[(_(!0),f(h,null,v(t(k).brand,n=>(_(),p(y,{key:n.value,checkable:"",checked:t(a).brand===n.value,onClick:D=>x("brand",n.value)},{default:e(()=>[d(g(n.name),1)]),_:2},1032,["checked","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),o(A),o(N,{class:"min-h-100px",show:t(i)},{default:e(()=>[o(U,{"x-gap":"24",cols:5},{default:e(()=>[(_(!0),f(h,null,v(t(b),n=>(_(),p(R,{key:n.id},{default:e(()=>[o(C,{class:"cursor-pointer",title:n.name,onClick:D=>F(n.id)},{cover:e(()=>[o(G,{previewDisabled:"",lazy:"",src:t(Z)},null,8,["src"])]),default:e(()=>[r("p",re,[ie,r("span",me,g(t(Q)(n.minSellPrice)),1),de])]),_:2},1032,["title","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["show"])]),_:1})}}});const $e=H(fe,[["__scopeId","data-v-66267cf4"]]);export{$e as default};
