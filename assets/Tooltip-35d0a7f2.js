import{a as ye,O as re,cj as Ye,z as Ee,G as N,aw as _e,au as Te,av as ke,r as O,a6 as q,a7 as V,aQ as ne,d as R,W as te,ck as Ke,cA as Ue,aj as ce,cB as $e,cC as Je,c4 as qe,Q as ee,am as Ge,X as Y,ag as Ie,y,aC as Pe,aA as Qe,cm as Ze,cD as Re,cE as et,cF as tt,C as F,A as I,aU as fe,E as he,T as de,cG as ot,F as je,I as ie,cH as nt,N as Fe,H as G,ak as xe,aq as rt,L as it,ah as Me,ai as at,a$ as Se,ar as st,as as lt,S as pe,aP as dt,cf as ut,cI as Ce,cl as ct,cJ as ft,aS as ht,al as ae,cu as pt}from"./index-8719b80b.js";import{a as vt}from"./Input-3f43b3ae.js";import{u as mt}from"./use-compitable-af4af851.js";let ue=[];const Ne=new WeakMap;function bt(){ue.forEach(e=>e(...Ne.get(e))),ue=[]}function wt(e,...t){Ne.set(e,t),!ue.includes(e)&&ue.push(e)===1&&requestAnimationFrame(bt)}const gt=/^(\d|\.)+$/,Be=/(\d|\.)+/;function ve(e,{c:t=1,offset:o=0,attachPx:n=!0}={}){if(typeof e=="number"){const r=(e+o)*t;return r===0?"0":`${r}px`}else if(typeof e=="string")if(gt.test(e)){const r=(Number(e)+o)*t;return n?r===0?"0":`${r}px`:`${r}`}else{const r=Be.exec(e);return r?e.replace(Be,String((Number(r[0])+o)*t)):e}return e}let me;function yt(){return me===void 0&&(me=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),me}let Q,oe;const $t=()=>{var e,t;Q=Ye?(t=(e=document)===null||e===void 0?void 0:e.fonts)===null||t===void 0?void 0:t.ready:void 0,oe=!1,Q!==void 0?Q.then(()=>{oe=!0}):oe=!0};$t();function xt(e){if(oe)return;let t=!1;ye(()=>{oe||Q==null||Q.then(()=>{t||e()})}),re(()=>{t=!0})}const Rt=Ee("n-internal-select-menu"),Mt=Ee("n-internal-select-menu-body"),We="__disabled__";function Z(e){const t=N(_e,null),o=N(Te,null),n=N(ke,null),r=N(Mt,null),f=O();if(typeof document<"u"){f.value=document.fullscreenElement;const u=()=>{f.value=document.fullscreenElement};ye(()=>{q("fullscreenchange",document,u)}),re(()=>{V("fullscreenchange",document,u)})}return ne(()=>{var u;const{to:a}=e;return a!==void 0?a===!1?We:a===!0?f.value||"body":a:t!=null&&t.value?(u=t.value.$el)!==null&&u!==void 0?u:t.value:o!=null&&o.value?o.value:n!=null&&n.value?n.value:r!=null&&r.value?r.value:a??(f.value||"body")})}Z.tdkey=We;Z.propTo={type:[String,Object,Boolean],default:void 0};let j=null;function De(){if(j===null&&(j=document.getElementById("v-binder-view-measurer"),j===null)){j=document.createElement("div"),j.id="v-binder-view-measurer";const{style:e}=j;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(j)}return j.getBoundingClientRect()}function St(e,t){const o=De();return{top:t,left:e,height:0,width:0,right:o.width-e,bottom:o.height-t}}function be(e){const t=e.getBoundingClientRect(),o=De();return{left:t.left-o.left,top:t.top-o.top,bottom:o.height+o.top-t.bottom,right:o.width+o.left-t.right,width:t.width,height:t.height}}function Ct(e){return e.nodeType===9?null:e.parentNode}function He(e){if(e===null)return null;const t=Ct(e);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:o,overflowX:n,overflowY:r}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(o+r+n))return t}return He(t)}const Bt=R({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var t;te("VBinder",(t=Ke())===null||t===void 0?void 0:t.proxy);const o=N("VBinder",null),n=O(null),r=d=>{n.value=d,o&&e.syncTargetWithParent&&o.setTargetRef(d)};let f=[];const u=()=>{let d=n.value;for(;d=He(d),d!==null;)f.push(d);for(const x of f)q("scroll",x,S,!0)},a=()=>{for(const d of f)V("scroll",d,S,!0);f=[]},i=new Set,m=d=>{i.size===0&&u(),i.has(d)||i.add(d)},w=d=>{i.has(d)&&i.delete(d),i.size===0&&a()},S=()=>{wt(l)},l=()=>{i.forEach(d=>d())},h=new Set,b=d=>{h.size===0&&q("resize",window,g),h.has(d)||h.add(d)},c=d=>{h.has(d)&&h.delete(d),h.size===0&&V("resize",window,g)},g=()=>{h.forEach(d=>d())};return re(()=>{V("resize",window,g),a()}),{targetRef:n,setTargetRef:r,addScrollListener:m,removeScrollListener:w,addResizeListener:b,removeResizeListener:c}},render(){return Ue("binder",this.$slots)}}),zt=Bt,Ot=R({name:"Target",setup(){const{setTargetRef:e,syncTarget:t}=N("VBinder");return{syncTarget:t,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:t}=this;return e?ce($e("follower",this.$slots),[[t]]):$e("follower",this.$slots)}}),J="@@mmoContext",At={mounted(e,{value:t}){e[J]={handler:void 0},typeof t=="function"&&(e[J].handler=t,q("mousemoveoutside",e,t))},updated(e,{value:t}){const o=e[J];typeof t=="function"?o.handler?o.handler!==t&&(V("mousemoveoutside",e,o.handler),o.handler=t,q("mousemoveoutside",e,t)):(e[J].handler=t,q("mousemoveoutside",e,t)):o.handler&&(V("mousemoveoutside",e,o.handler),o.handler=void 0)},unmounted(e){const{handler:t}=e[J];t&&V("mousemoveoutside",e,t),e[J].handler=void 0}},Et=At,{c:se}=Je(),_t="vueuc-style",le={top:"bottom",bottom:"top",left:"right",right:"left"},ze={start:"end",center:"center",end:"start"},we={top:"height",bottom:"height",left:"width",right:"width"},Tt={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},kt={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},It={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},Oe={top:!0,bottom:!1,left:!0,right:!1},Ae={top:"end",bottom:"start",left:"end",right:"start"};function Pt(e,t,o,n,r,f){if(!r||f)return{placement:e,top:0,left:0};const[u,a]=e.split("-");let i=a??"center",m={top:0,left:0};const w=(h,b,c)=>{let g=0,d=0;const x=o[h]-t[b]-t[h];return x>0&&n&&(c?d=Oe[b]?x:-x:g=Oe[b]?x:-x),{left:g,top:d}},S=u==="left"||u==="right";if(i!=="center"){const h=It[e],b=le[h],c=we[h];if(o[c]>t[c]){if(t[h]+t[c]<o[c]){const g=(o[c]-t[c])/2;t[h]<g||t[b]<g?t[h]<t[b]?(i=ze[a],m=w(c,b,S)):m=w(c,h,S):i="center"}}else o[c]<t[c]&&t[b]<0&&t[h]>t[b]&&(i=ze[a])}else{const h=u==="bottom"||u==="top"?"left":"top",b=le[h],c=we[h],g=(o[c]-t[c])/2;(t[h]<g||t[b]<g)&&(t[h]>t[b]?(i=Ae[h],m=w(c,h,S)):(i=Ae[b],m=w(c,b,S)))}let l=u;return t[u]<o[we[u]]&&t[u]<t[le[u]]&&(l=le[u]),{placement:i!=="center"?`${l}-${i}`:l,left:m.left,top:m.top}}function jt(e,t){return t?kt[e]:Tt[e]}function Ft(e,t,o,n,r,f){if(f)switch(e){case"bottom-start":return{top:`${Math.round(o.top-t.top+o.height)}px`,left:`${Math.round(o.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(o.top-t.top+o.height)}px`,left:`${Math.round(o.left-t.left+o.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(o.top-t.top)}px`,left:`${Math.round(o.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(o.top-t.top)}px`,left:`${Math.round(o.left-t.left+o.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(o.top-t.top)}px`,left:`${Math.round(o.left-t.left+o.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(o.top-t.top+o.height)}px`,left:`${Math.round(o.left-t.left+o.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(o.top-t.top)}px`,left:`${Math.round(o.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(o.top-t.top+o.height)}px`,left:`${Math.round(o.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(o.top-t.top)}px`,left:`${Math.round(o.left-t.left+o.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(o.top-t.top+o.height/2)}px`,left:`${Math.round(o.left-t.left+o.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(o.top-t.top+o.height/2)}px`,left:`${Math.round(o.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(o.top-t.top+o.height)}px`,left:`${Math.round(o.left-t.left+o.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(o.top-t.top+o.height+n)}px`,left:`${Math.round(o.left-t.left+r)}px`,transform:""};case"bottom-end":return{top:`${Math.round(o.top-t.top+o.height+n)}px`,left:`${Math.round(o.left-t.left+o.width+r)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(o.top-t.top+n)}px`,left:`${Math.round(o.left-t.left+r)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(o.top-t.top+n)}px`,left:`${Math.round(o.left-t.left+o.width+r)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(o.top-t.top+n)}px`,left:`${Math.round(o.left-t.left+o.width+r)}px`,transform:""};case"right-end":return{top:`${Math.round(o.top-t.top+o.height+n)}px`,left:`${Math.round(o.left-t.left+o.width+r)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(o.top-t.top+n)}px`,left:`${Math.round(o.left-t.left+r)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(o.top-t.top+o.height+n)}px`,left:`${Math.round(o.left-t.left+r)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(o.top-t.top+n)}px`,left:`${Math.round(o.left-t.left+o.width/2+r)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(o.top-t.top+o.height/2+n)}px`,left:`${Math.round(o.left-t.left+o.width+r)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(o.top-t.top+o.height/2+n)}px`,left:`${Math.round(o.left-t.left+r)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(o.top-t.top+o.height+n)}px`,left:`${Math.round(o.left-t.left+o.width/2+r)}px`,transform:"translateX(-50%)"}}}const Nt=se([se(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),se(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[se("> *",{pointerEvents:"all"})])]),Wt=R({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const t=N("VBinder"),o=ne(()=>e.enabled!==void 0?e.enabled:e.show),n=O(null),r=O(null),f=()=>{const{syncTrigger:l}=e;l.includes("scroll")&&t.addScrollListener(i),l.includes("resize")&&t.addResizeListener(i)},u=()=>{t.removeScrollListener(i),t.removeResizeListener(i)};ye(()=>{o.value&&(i(),f())});const a=qe();Nt.mount({id:"vueuc/binder",head:!0,anchorMetaName:_t,ssr:a}),re(()=>{u()}),xt(()=>{o.value&&i()});const i=()=>{if(!o.value)return;const l=n.value;if(l===null)return;const h=t.targetRef,{x:b,y:c,overlap:g}=e,d=b!==void 0&&c!==void 0?St(b,c):be(h);l.style.setProperty("--v-target-width",`${Math.round(d.width)}px`),l.style.setProperty("--v-target-height",`${Math.round(d.height)}px`);const{width:x,minWidth:W,placement:D,internalShift:H,flip:L}=e;l.setAttribute("v-placement",D),g?l.setAttribute("v-overlap",""):l.removeAttribute("v-overlap");const{style:p}=l;x==="target"?p.width=`${d.width}px`:x!==void 0?p.width=x:p.width="",W==="target"?p.minWidth=`${d.width}px`:W!==void 0?p.minWidth=W:p.minWidth="";const C=be(l),B=be(r.value),{left:v,top:P,placement:_}=Pt(D,d,C,H,L,g),E=jt(_,g),{left:X,top:s,transform:$}=Ft(_,B,d,P,v,g);l.setAttribute("v-placement",_),l.style.setProperty("--v-offset-left",`${Math.round(v)}px`),l.style.setProperty("--v-offset-top",`${Math.round(P)}px`),l.style.transform=`translateX(${X}) translateY(${s}) ${$}`,l.style.setProperty("--v-transform-origin",E),l.style.transformOrigin=E};ee(o,l=>{l?(f(),m()):u()});const m=()=>{Ge().then(i).catch(l=>console.error(l))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(l=>{ee(Y(e,l),i)}),["teleportDisabled"].forEach(l=>{ee(Y(e,l),m)}),ee(Y(e,"syncTrigger"),l=>{l.includes("resize")?t.addResizeListener(i):t.removeResizeListener(i),l.includes("scroll")?t.addScrollListener(i):t.removeScrollListener(i)});const w=Ie(),S=ne(()=>{const{to:l}=e;if(l!==void 0)return l;w.value});return{VBinder:t,mergedEnabled:o,offsetContainerRef:r,followerRef:n,mergedTo:S,syncPosition:i}},render(){return y(Qe,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,t;const o=y("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[y("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))]);return this.zindexable?ce(o,[[Pe,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):o}})}});function Dt(e,t){var o=Ze(e)?Re:et;return o(e,tt(t))}const ge={top:"bottom",bottom:"top",left:"right",right:"left"},M="var(--n-arrow-height) * 1.414",Ht=F([I("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[F(">",[I("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),fe("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[fe("scrollable",[fe("show-header-or-footer","padding: var(--n-padding);")])]),he("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),he("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),de("scrollable, show-header-or-footer",[he("content",`
 padding: var(--n-padding);
 `)])]),I("popover-shared",`
 transform-origin: inherit;
 `,[I("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[I("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${M});
 height: calc(${M});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),F("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),F("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),F("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),F("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),A("top-start",`
 top: calc(${M} / -2);
 left: calc(${k("top-start")} - var(--v-offset-left));
 `),A("top",`
 top: calc(${M} / -2);
 transform: translateX(calc(${M} / -2)) rotate(45deg);
 left: 50%;
 `),A("top-end",`
 top: calc(${M} / -2);
 right: calc(${k("top-end")} + var(--v-offset-left));
 `),A("bottom-start",`
 bottom: calc(${M} / -2);
 left: calc(${k("bottom-start")} - var(--v-offset-left));
 `),A("bottom",`
 bottom: calc(${M} / -2);
 transform: translateX(calc(${M} / -2)) rotate(45deg);
 left: 50%;
 `),A("bottom-end",`
 bottom: calc(${M} / -2);
 right: calc(${k("bottom-end")} + var(--v-offset-left));
 `),A("left-start",`
 left: calc(${M} / -2);
 top: calc(${k("left-start")} - var(--v-offset-top));
 `),A("left",`
 left: calc(${M} / -2);
 transform: translateY(calc(${M} / -2)) rotate(45deg);
 top: 50%;
 `),A("left-end",`
 left: calc(${M} / -2);
 bottom: calc(${k("left-end")} + var(--v-offset-top));
 `),A("right-start",`
 right: calc(${M} / -2);
 top: calc(${k("right-start")} - var(--v-offset-top));
 `),A("right",`
 right: calc(${M} / -2);
 transform: translateY(calc(${M} / -2)) rotate(45deg);
 top: 50%;
 `),A("right-end",`
 right: calc(${M} / -2);
 bottom: calc(${k("right-end")} + var(--v-offset-top));
 `),...Dt({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,t)=>{const o=["right","left"].includes(t),n=o?"width":"height";return e.map(r=>{const f=r.split("-")[1]==="end",a=`calc((${`var(--v-target-${n}, 0px)`} - ${M}) / 2)`,i=k(r);return F(`[v-placement="${r}"] >`,[I("popover-shared",[de("center-arrow",[I("popover-arrow",`${t}: calc(max(${a}, ${i}) ${f?"+":"-"} var(--v-offset-${o?"left":"top"}));`)])])])})})]);function k(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function A(e,t){const o=e.split("-")[0],n=["top","bottom"].includes(o)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return F(`[v-placement="${e}"] >`,[I("popover-shared",`
 margin-${ge[o]}: var(--n-space);
 `,[de("show-arrow",`
 margin-${ge[o]}: var(--n-space-arrow);
 `),de("overlap",`
 margin: 0;
 `),ot("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${o}: 100%;
 ${ge[o]}: auto;
 ${n}
 `,[I("popover-arrow",t)])])])}const Le=Object.assign(Object.assign({},ie.props),{to:Z.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function Lt({arrowClass:e,arrowStyle:t,arrowWrapperClass:o,arrowWrapperStyle:n,clsPrefix:r}){return y("div",{key:"__popover-arrow__",style:n,class:[`${r}-popover-arrow-wrapper`,o]},y("div",{class:[`${r}-popover-arrow`,e],style:t}))}const Xt=R({name:"PopoverBody",inheritAttrs:!1,props:Le,setup(e,{slots:t,attrs:o}){const{namespaceRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:f}=je(e),u=ie("Popover","-popover",Ht,nt,e,r),a=O(null),i=N("NPopover"),m=O(null),w=O(e.show),S=O(!1);Fe(()=>{const{show:p}=e;p&&!yt()&&!e.internalDeactivateImmediately&&(S.value=!0)});const l=G(()=>{const{trigger:p,onClickoutside:C}=e,B=[],{positionManuallyRef:{value:v}}=i;return v||(p==="click"&&!C&&B.push([xe,D,void 0,{capture:!0}]),p==="hover"&&B.push([Et,W])),C&&B.push([xe,D,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&S.value)&&B.push([rt,e.show]),B}),h=G(()=>{const{common:{cubicBezierEaseInOut:p,cubicBezierEaseIn:C,cubicBezierEaseOut:B},self:{space:v,spaceArrow:P,padding:_,fontSize:E,textColor:X,dividerColor:s,color:$,boxShadow:z,borderRadius:K,arrowHeight:U,arrowOffset:T,arrowOffsetVertical:Ve}}=u.value;return{"--n-box-shadow":z,"--n-bezier":p,"--n-bezier-ease-in":C,"--n-bezier-ease-out":B,"--n-font-size":E,"--n-text-color":X,"--n-color":$,"--n-divider-color":s,"--n-border-radius":K,"--n-arrow-height":U,"--n-arrow-offset":T,"--n-arrow-offset-vertical":Ve,"--n-padding":_,"--n-space":v,"--n-space-arrow":P}}),b=G(()=>{const p=e.width==="trigger"?void 0:ve(e.width),C=[];p&&C.push({width:p});const{maxWidth:B,minWidth:v}=e;return B&&C.push({maxWidth:ve(B)}),v&&C.push({maxWidth:ve(v)}),f||C.push(h.value),C}),c=f?it("popover",void 0,h,e):void 0;i.setBodyInstance({syncPosition:g}),re(()=>{i.setBodyInstance(null)}),ee(Y(e,"show"),p=>{e.animated||(p?w.value=!0:w.value=!1)});function g(){var p;(p=a.value)===null||p===void 0||p.syncPosition()}function d(p){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&i.handleMouseEnter(p)}function x(p){e.trigger==="hover"&&e.keepAliveOnHover&&i.handleMouseLeave(p)}function W(p){e.trigger==="hover"&&!H().contains(Me(p))&&i.handleMouseMoveOutside(p)}function D(p){(e.trigger==="click"&&!H().contains(Me(p))||e.onClickoutside)&&i.handleClickOutside(p)}function H(){return i.getTriggerElement()}te(ke,m),te(Te,null),te(_e,null);function L(){if(c==null||c.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&S.value))return null;let C;const B=i.internalRenderBodyRef.value,{value:v}=r;if(B)C=B([`${v}-popover-shared`,c==null?void 0:c.themeClass.value,e.overlap&&`${v}-popover-shared--overlap`,e.showArrow&&`${v}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${v}-popover-shared--center-arrow`],m,b.value,d,x);else{const{value:P}=i.extraClassRef,{internalTrapFocus:_}=e,E=!Se(t.header)||!Se(t.footer),X=()=>{var s,$;const z=E?y(dt,null,pe(t.header,T=>T?y("div",{class:[`${v}-popover__header`,e.headerClass],style:e.headerStyle},T):null),pe(t.default,T=>T?y("div",{class:[`${v}-popover__content`,e.contentClass],style:e.contentStyle},t):null),pe(t.footer,T=>T?y("div",{class:[`${v}-popover__footer`,e.footerClass],style:e.footerStyle},T):null)):e.scrollable?(s=t.default)===null||s===void 0?void 0:s.call(t):y("div",{class:[`${v}-popover__content`,e.contentClass],style:e.contentStyle},t),K=e.scrollable?y(ut,{contentClass:E?void 0:`${v}-popover__content ${($=e.contentClass)!==null&&$!==void 0?$:""}`,contentStyle:E?void 0:e.contentStyle},{default:()=>z}):z,U=e.showArrow?Lt({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:v}):null;return[K,U]};C=y("div",lt({class:[`${v}-popover`,`${v}-popover-shared`,c==null?void 0:c.themeClass.value,P.map(s=>`${v}-${s}`),{[`${v}-popover--scrollable`]:e.scrollable,[`${v}-popover--show-header-or-footer`]:E,[`${v}-popover--raw`]:e.raw,[`${v}-popover-shared--overlap`]:e.overlap,[`${v}-popover-shared--show-arrow`]:e.showArrow,[`${v}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:m,style:b.value,onKeydown:i.handleKeydown,onMouseenter:d,onMouseleave:x},o),_?y(st,{active:e.show,autoFocus:!0},{default:X}):X())}return ce(C,l.value)}return{displayed:S,namespace:n,isMounted:i.isMountedRef,zIndex:i.zIndexRef,followerRef:a,adjustedTo:Z(e),followerEnabled:w,renderContentNode:L}},render(){return y(Wt,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===Z.tdkey},{default:()=>this.animated?y(at,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),Vt=Object.keys(Le),Yt={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function Kt(e,t,o){Yt[t].forEach(n=>{e.props?e.props=Object.assign({},e.props):e.props={};const r=e.props[n],f=o[n];r?e.props[n]=(...u)=>{r(...u),f(...u)}:e.props[n]=f})}const Xe={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:Z.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},Ut=Object.assign(Object.assign(Object.assign({},ie.props),Xe),{internalOnAfterLeave:Function,internalRenderBody:Function}),Jt=R({name:"Popover",inheritAttrs:!1,props:Ut,__popover__:!0,setup(e){const t=Ie(),o=O(null),n=G(()=>e.show),r=O(e.defaultShow),f=vt(n,r),u=ne(()=>e.disabled?!1:f.value),a=()=>{if(e.disabled)return!0;const{getDisabled:s}=e;return!!(s!=null&&s())},i=()=>a()?!1:f.value,m=mt(e,["arrow","showArrow"]),w=G(()=>e.overlap?!1:m.value);let S=null;const l=O(null),h=O(null),b=ne(()=>e.x!==void 0&&e.y!==void 0);function c(s){const{"onUpdate:show":$,onUpdateShow:z,onShow:K,onHide:U}=e;r.value=s,$&&ae($,s),z&&ae(z,s),s&&K&&ae(K,!0),s&&U&&ae(U,!1)}function g(){S&&S.syncPosition()}function d(){const{value:s}=l;s&&(window.clearTimeout(s),l.value=null)}function x(){const{value:s}=h;s&&(window.clearTimeout(s),h.value=null)}function W(){const s=a();if(e.trigger==="focus"&&!s){if(i())return;c(!0)}}function D(){const s=a();if(e.trigger==="focus"&&!s){if(!i())return;c(!1)}}function H(){const s=a();if(e.trigger==="hover"&&!s){if(x(),l.value!==null||i())return;const $=()=>{c(!0),l.value=null},{delay:z}=e;z===0?$():l.value=window.setTimeout($,z)}}function L(){const s=a();if(e.trigger==="hover"&&!s){if(d(),h.value!==null||!i())return;const $=()=>{c(!1),h.value=null},{duration:z}=e;z===0?$():h.value=window.setTimeout($,z)}}function p(){L()}function C(s){var $;i()&&(e.trigger==="click"&&(d(),x(),c(!1)),($=e.onClickoutside)===null||$===void 0||$.call(e,s))}function B(){if(e.trigger==="click"&&!a()){d(),x();const s=!i();c(s)}}function v(s){e.internalTrapFocus&&s.key==="Escape"&&(d(),x(),c(!1))}function P(s){r.value=s}function _(){var s;return(s=o.value)===null||s===void 0?void 0:s.targetRef}function E(s){S=s}return te("NPopover",{getTriggerElement:_,handleKeydown:v,handleMouseEnter:H,handleMouseLeave:L,handleClickOutside:C,handleMouseMoveOutside:p,setBodyInstance:E,positionManuallyRef:b,isMountedRef:t,zIndexRef:Y(e,"zIndex"),extraClassRef:Y(e,"internalExtraClass"),internalRenderBodyRef:Y(e,"internalRenderBody")}),Fe(()=>{f.value&&a()&&c(!1)}),{binderInstRef:o,positionManually:b,mergedShowConsideringDisabledProp:u,uncontrolledShow:r,mergedShowArrow:w,getMergedShow:i,setShow:P,handleClick:B,handleMouseEnter:H,handleMouseLeave:L,handleFocus:W,handleBlur:D,syncPosition:g}},render(){var e;const{positionManually:t,$slots:o}=this;let n,r=!1;if(!t&&(o.activator?n=Ce(o,"activator"):n=Ce(o,"trigger"),n)){n=ct(n),n=n.type===ft?y("span",[n]):n;const f={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=n.type)===null||e===void 0)&&e.__popover__)r=!0,n.props||(n.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),n.props.internalSyncTargetWithParent=!0,n.props.internalInheritedEventHandlers?n.props.internalInheritedEventHandlers=[f,...n.props.internalInheritedEventHandlers]:n.props.internalInheritedEventHandlers=[f];else{const{internalInheritedEventHandlers:u}=this,a=[f,...u],i={onBlur:m=>{a.forEach(w=>{w.onBlur(m)})},onFocus:m=>{a.forEach(w=>{w.onFocus(m)})},onClick:m=>{a.forEach(w=>{w.onClick(m)})},onMouseenter:m=>{a.forEach(w=>{w.onMouseenter(m)})},onMouseleave:m=>{a.forEach(w=>{w.onMouseleave(m)})}};Kt(n,u?"nested":t?"manual":this.trigger,i)}}return y(zt,{ref:"binderInstRef",syncTarget:!r,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const f=this.getMergedShow();return[this.internalTrapFocus&&f?ce(y("div",{style:{position:"fixed",inset:0}}),[[Pe,{enabled:f,zIndex:this.zIndex}]]):null,t?null:y(Ot,null,{default:()=>n}),y(Xt,ht(this.$props,Vt,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:f})),{default:()=>{var u,a;return(a=(u=this.$slots).default)===null||a===void 0?void 0:a.call(u)},header:()=>{var u,a;return(a=(u=this.$slots).header)===null||a===void 0?void 0:a.call(u)},footer:()=>{var u,a;return(a=(u=this.$slots).footer)===null||a===void 0?void 0:a.call(u)}})]}})}}),qt=Object.assign(Object.assign({},Xe),ie.props),eo=R({name:"Tooltip",props:qt,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=je(e),o=ie("Tooltip","-tooltip",void 0,pt,e,t),n=O(null);return Object.assign(Object.assign({},{syncPosition(){n.value.syncPosition()},setShow(f){n.value.setShow(f)}}),{popoverRef:n,mergedTheme:o,popoverThemeOverrides:G(()=>o.value.self)})},render(){const{mergedTheme:e,internalExtraClass:t}=this;return y(Jt,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}});export{zt as V,eo as _,Ot as a,Wt as b,Jt as c,wt as d,_t as e,ve as f,se as g,Mt as h,Rt as i,Xe as p,Lt as r,Z as u};
