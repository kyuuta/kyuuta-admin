import{d as z,r as I,m as E,s as S,a as U,o as _,n as p,w as e,e as o,h as t,cf as j,i as d,c as f,aM as h,b4 as v,t as g,f as r,l as q,p as H,b2 as J,b3 as O,_ as Q}from"./index-c937759a.js";import{c as W}from"./index-2747dba4.js";import{c as X,_ as Y}from"./conversion-468b17b0.js";import{A as Z,_ as ee}from"./avatar_dark-91acdff8.js";import{u as ne,_ as oe,a as te}from"./useDict-37b0bfa0.js";import{_ as ae}from"./Input-e25af448.js";import{_ as se,a as _e}from"./FormItem-8fe26c51.js";import{_ as le}from"./Tag-33db936c.js";import{_ as ce}from"./Space-86594578.js";import{_ as ue}from"./Spin-ba87c21d.js";import{_ as pe}from"./Divider-fc90733c.js";import"./Tooltip-919d770f.js";import"./use-compitable-41f0f2d8.js";const $=c=>(J("data-v-66267cf4"),c=c(),O(),c),re={class:"price"},ie=$(()=>r("span",null,"￥",-1)),me={class:"count"},de=$(()=>r("span",null,"起",-1)),fe=z({name:"TableProductIndex",__name:"index",setup(c){I(0);const{routerPush:P}=E(),{dict:b,dictLoading:B,formatDict:he}=ne(["brand","category"]),i=S(!1),a=I({brand:null,category:null,name:null}),k=S([]);U(()=>u());const F=s=>{P({path:`/table/product/detail/${s}`})},u=()=>{i.value=!0,W(a.value).then(s=>{k.value=s.data}).finally(()=>{i.value=!1})},x=(s,l)=>{a.value[s]=a.value[s]===l?void 0:l,u()};return(s,l)=>{const L=ae,T=q,V=ee,m=se,y=le,w=ce,A=_e,N=ue,G=pe,K=Y,C=H,M=oe,R=te;return _(),p(C,{class:"rounded-6px shadow-sm",bordered:!1},{default:e(()=>[o(N,{show:t(B)},{default:e(()=>[o(A,{"label-placement":"left",showFeedback:!1},{default:e(()=>[o(m,{class:"mb-6px",label:"商品名称"},{default:e(()=>[o(V,null,{default:e(()=>[o(L,{value:t(a).name,"onUpdate:value":l[0]||(l[0]=n=>t(a).name=n),style:{width:"20%"},placeholder:"请输入商品名称",clearable:"",onKeyup:j(u,["enter"])},null,8,["value"]),o(T,{type:"primary",onClick:u},{default:e(()=>[d(" 搜索 ")]),_:1})]),_:1})]),_:1}),o(m,{class:"mb-6px",label:"商品类目:"},{default:e(()=>[o(w,null,{default:e(()=>[(_(!0),f(h,null,v(t(b).category,n=>(_(),p(y,{key:n.value,checkable:"",checked:t(a).category===n.value,onClick:D=>x("category",n.value)},{default:e(()=>[d(g(n.name),1)]),_:2},1032,["checked","onClick"]))),128))]),_:1})]),_:1}),o(m,{label:"商品品牌:"},{default:e(()=>[o(w,null,{default:e(()=>[(_(!0),f(h,null,v(t(b).brand,n=>(_(),p(y,{key:n.value,checkable:"",checked:t(a).brand===n.value,onClick:D=>x("brand",n.value)},{default:e(()=>[d(g(n.name),1)]),_:2},1032,["checked","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),o(G),o(N,{class:"min-h-100px",show:t(i)},{default:e(()=>[o(R,{"x-gap":"24",cols:5},{default:e(()=>[(_(!0),f(h,null,v(t(k),n=>(_(),p(M,{key:n.id},{default:e(()=>[o(C,{class:"cursor-pointer",title:n.name,onClick:D=>F(n.id)},{cover:e(()=>[o(K,{previewDisabled:"",lazy:"",src:t(Z)},null,8,["src"])]),default:e(()=>[r("p",re,[ie,r("span",me,g(t(X)(n.minSellPrice)),1),de])]),_:2},1032,["title","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["show"])]),_:1})}}});const Pe=Q(fe,[["__scopeId","data-v-66267cf4"]]);export{Pe as default};
